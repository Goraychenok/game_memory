(function(){"use strict";var e={5432:function(e,t,s){var r=s(9242),i=s(6265),n=s.n(i),a=s(6423),o=s(3396);const m={class:"memory"},l={class:"container"},u={class:"row"};function c(e,t,s,r,i,n){const a=(0,o.up)("v_Timer"),c=(0,o.up)("v_Start"),d=(0,o.up)("v_Memory"),h=(0,o.up)("v_Form"),_=(0,o.up)("v_Result");return(0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",l,[(0,o._)("div",u,[(0,o.Wm)(a),(0,o.Wm)(c)]),(0,o.Wm)(d),(0,o.Wm)(h),(0,o.Wm)(_)])])}var d=s(7139);const h={class:"col-lg-6"},_={class:"memory__timer"},p={class:"memory__timer-item"},v={class:"memory__num"},f={class:"memory__label"},y={class:"memory__timer-item"},g={class:"memory__num"},w={class:"memory__label"},b={class:"memory__timer-item"},S={class:"memory__num"},G={class:"memory__label"},O={class:"memory__timer-item"},k={class:"memory__num"},I={class:"memory__label"};function R(e,t,s,r,i,n){return(0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("div",_,[(0,o._)("div",p,[(0,o._)("div",v,(0,d.zw)(n.days),1),(0,o._)("div",f,(0,d.zw)(n.decLabel(n.days,["День","Дня","Дней"])),1)]),(0,o._)("div",y,[(0,o._)("div",g,(0,d.zw)(n.hours),1),(0,o._)("div",w,(0,d.zw)(n.decLabel(n.hours,["Час","Часа","Часов"])),1)]),(0,o._)("div",b,[(0,o._)("div",S,(0,d.zw)(n.minutes),1),(0,o._)("div",G,(0,d.zw)(n.decLabel(n.minutes,["Минута","Минуты","Минут"])),1)]),(0,o._)("div",O,[(0,o._)("div",k,(0,d.zw)(n.seconds),1),(0,o._)("div",I,(0,d.zw)(n.decLabel(n.seconds,["Секунда","Секунды","Секунд"])),1)])])])}var T={name:"v_timer",data(){return{time:0,duration:0,timerId:null}},computed:{days(){return Math.floor(this.time/86400)},hours(){return Math.floor((this.time-86400*this.days)/3600)},minutes(){return Math.floor((this.time-86400*this.days-3600*this.hours)/60)},seconds(){return this.time-86400*this.days-3600*this.hours-60*this.minutes},changeGameStatus:{get(){return this.$store.state.startGame}},stopGame:{get(){return this.$store.state.time},set(e){this.$store.commit("writeTime",e)}},openForm:{get(){return this.$store.state.stopGame},set(e){this.$store.commit("openForm",e)}}},methods:{tick(){this.time+=1,this.time<0&&(this.time=this.duration),this.save()},save(){window.localStorage.setItem("timer",this.time)},load(){this.time=Math.floor(((new Date).getTime()-(new Date).getTime())/1e3)},decLabel:(e,t)=>{const s=[2,0,1,1,1,2],r=t[e%100>4&&e%100<20?2:s[e%10<5?e%10:5]];return`${r}`}},watch:{changeGameStatus(e){e?(this.load(),this.timerId=setInterval((()=>{this.tick()}),1e3)):(this.stopGame=[this.seconds,this.minutes,this.hours,this.days],clearInterval(this.timerId),this.openForm=!this.openForm)}}},$=s(89);const x=(0,$.Z)(T,[["render",R]]);var F=x;const D={class:"col-lg-6"};function M(e,t,s,r,i,n){const a=(0,o.up)("slide-up-down");return(0,o.wg)(),(0,o.iD)("div",D,[(0,o.Wm)(a,{modelValue:i.start,"onUpdate:modelValue":t[1]||(t[1]=e=>i.start=e),duration:1e3},{default:(0,o.w5)((()=>[i.start?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"submit",onClick:t[0]||(t[0]=(...e)=>n.startGame&&n.startGame(...e)),value:"Начать игру",class:"memory__start btn btn-primary"})):(0,o.kq)("",!0)])),_:1},8,["modelValue"])])}var V=s(1411),z={name:"v_Start",components:{SlideUpDown:V.Z},data(){return{start:!0}},computed:{changeGameStatus:{get(){return this.$store.state.startGame},set(e){this.$store.commit("changeGameStatus",e)}}},methods:{startGame:function(){this.start=!this.start,this.changeGameStatus=!this.changeGameStatus}}};const j=(0,$.Z)(z,[["render",M]]);var Z=j;const C={class:"row"},U=["onClick"],E={class:"memory__card"},W=(0,o._)("div",{class:"memory__front"},[(0,o._)("div",{class:"memory__box"})],-1),L={class:"memory__back"},P={class:"memory__box"},q=["src"];function H(e,t,s,r,i,n){const a=(0,o.up)("slide-up-down");return(0,o.wg)(),(0,o.j4)(a,{modelValue:n.changeGameStatus,"onUpdate:modelValue":t[0]||(t[0]=e=>n.changeGameStatus=e),duration:1e3},{default:(0,o.w5)((()=>[(0,o._)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.elements,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:e.key,class:"col-md-2"},[(0,o._)("div",{class:"memory__block",onClick:e=>n.cardClick(t)},[(0,o._)("div",E,[(0,o._)("div",{class:(0,d.C_)(["memory__panel",[{flip:e.cardStatus,saved:e.cardOpen}]])},[W,(0,o._)("div",L,[(0,o._)("div",P,[(0,o._)("img",{src:e.img,alt:"",class:"memory__img"},null,8,q)])])],2)])],8,U)])))),128))])])),_:1},8,["modelValue"])}function J(){return String(Math.random()).substring(2,7)}function K(e){return JSON.parse(JSON.stringify(e))}var N={name:"v_Memory",components:{SlideUpDown:V.Z},data(){return{info:[],elements:[],start:!1,selectItems:[]}},async created(){const e=await this.axios.get("http://localhost:3000/cards/");this.info=e.data,this.info.forEach((e=>{let t={id:e.id,img:e.img,cardStatus:!1,key:J(),cardOpen:!1},s=K(t);this.elements=[...this.elements,t,s]})),this.elements=this.elements.sort((()=>Math.random()-.5))},computed:{changeGameStatus:{get(){return this.$store.state.startGame},set(e){this.$store.commit("changeGameStatus",e)}}},methods:{cardClick:function(e){this.selectItems.length>=2||(!1===this.elements[e].cardStatus&&!1===this.elements[e].cardOpen&&(this.elements[e].cardStatus=!this.elements[e].cardStatus,this.selectItems.push(this.elements[e])),2===this.selectItems.length?setTimeout((()=>this.cardCheck(this.selectItems[0],this.selectItems[1])),1e3):1===this.selectItems.length&&setTimeout((()=>{1===this.selectItems.length&&!1===this.elements[e].cardOpen&&(this.elements[e].cardStatus=!1,this.selectItems=this.selectItems.filter((t=>t.id!=this.elements[e].id)))}),5e3))},cardCheck:function(e,t){void 0!==e?.img&&void 0!==t?.img&&(e?.img===t?.img?(e.cardOpen=!0,t.cardOpen=!0):(e?.cardStatus&&(e.cardStatus=!1),t?.cardStatus&&(t.cardStatus=!1))),this.selectItems=this.selectItems.filter((t=>t!=e)),this.selectItems=this.selectItems.filter((e=>e!=t))}},watch:{elements:{handler(){let e=0;this.elements.forEach((t=>{t.cardOpen&&e++})),e===this.elements.length&&(this.changeGameStatus=!this.changeGameStatus)},deep:!0}}};const Y=(0,$.Z)(N,[["render",H]]);var A=Y;const B={class:"memory__result"},Q=(0,o._)("div",{class:"memory__result-title"}," Результаты ",-1),X=(0,o._)("div",{class:"memory__result-row"},[(0,o._)("div",{class:"memory__result-id memory__result-elem"}," № "),(0,o._)("div",{class:"memory__result-name memory__result-elem"}," Имя "),(0,o._)("div",{class:"memory__result-time memory__result-elem"}," Время ")],-1),ee={class:"memory__result-id memory__result-elem"},te={class:"memory__result-name memory__result-elem"},se={class:"memory__result-time memory__result-elem"};function re(e,t,s,r,i,n){const a=(0,o.up)("slide-up-down");return(0,o.wg)(),(0,o.j4)(a,{modelValue:n.openResult,"onUpdate:modelValue":t[0]||(t[0]=e=>n.openResult=e),duration:1e3},{default:(0,o.w5)((()=>[(0,o._)("div",B,[Q,X,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.elements,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"memory__result-row",key:e.key},[(0,o._)("div",ee,(0,d.zw)(t+1),1),(0,o._)("div",te,(0,d.zw)(e.name),1),(0,o._)("div",se,(0,d.zw)(e.time),1)])))),128))])])),_:1},8,["modelValue"])}var ie={name:"vue_Result",components:{SlideUpDown:V.Z},data(){return{elements:[]}},async created(){},computed:{openResult:{get(){return this.$store.state.viewResult}}},methods:{async fetchResult(){const e=await this.axios.get("http://localhost:3000/results/");this.info=e.data,this.info.forEach((e=>{let t={id:e.id,key:J(),name:e.name,time:e.time};this.elements.push(t)}))}},watch:{openResult(e){e&&this.fetchResult()}}};const ne=(0,$.Z)(ie,[["render",re]]);var ae=ne;const oe={class:"col-lg-12"},me={class:"memory__form-block"},le=(0,o._)("input",{type:"submit",class:"btn btn-success"},null,-1);function ue(e,t,s,i,n,a){const m=(0,o.up)("slide-up-down");return(0,o.wg)(),(0,o.j4)(m,{modelValue:a.OpenForm,"onUpdate:modelValue":t[2]||(t[2]=e=>a.OpenForm=e),duration:1e3},{default:(0,o.w5)((()=>[(0,o._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"])),class:"memory__form"},[(0,o._)("div",oe,[(0,o._)("div",me,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),type:"text",class:"form-control",required:"","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",name:"name",placeholder:"Введите ваше имя"},null,512),[[r.nr,n.name]]),le])])],32)])),_:1},8,["modelValue"])}var ce={name:"v_Form",components:{SlideUpDown:V.Z},data(){return{name:""}},methods:{onSubmit(){const e={name:this.name,time:this.returnTime[3]+":"+this.returnTime[2]+":"+this.returnTime[1]+":"+this.returnTime[0]};this.axios.post("http://localhost:3000/results/",e),this.OpenForm=!this.OpenForm,this.viewResult=!this.viewResult}},computed:{returnTime:{get(){return this.$store.state.time}},viewResult:{get(){return this.$store.state.viewResult},set(e){this.$store.commit("openResult",e)}},OpenForm:{get(){return this.$store.state.stopGame},set(e){this.$store.commit("openForm",e)}}}};const de=(0,$.Z)(ce,[["render",ue]]);var he=de,_e={name:"App",components:{v_Timer:F,v_Start:Z,v_Memory:A,v_Result:ae,v_Form:he}};const pe=(0,$.Z)(_e,[["render",c]]);var ve=pe,fe=s(65);const ye=(0,fe.MT)({state(){return{startGame:!1,time:[],stopGame:!1,viewResult:!1}},mutations:{changeGameStatus(e,t){e.startGame=t},writeTime(e,t){e.time=t},openForm(e,t){e.stopGame=t},openResult(e,t){e.viewResult=t}}}),ge=(0,r.ri)(ve);ge.use(a.Z,n()),ge.use(ye),ge.mount("#app")}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r](n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,r,i,n){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],n=e[u][2];for(var o=!0,m=0;m<r.length;m++)(!1&n||a>=n)&&Object.keys(s.O).every((function(e){return s.O[e](r[m])}))?r.splice(m--,1):(o=!1,n<a&&(a=n));if(o){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,i,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,n,a=r[0],o=r[1],m=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(m)var u=m(s)}for(t&&t(r);l<a.length;l++)n=a[l],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},r=self["webpackChunkmemory_app"]=self["webpackChunkmemory_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(5432)}));r=s.O(r)})();
//# sourceMappingURL=app.84f94161.js.map